<header class="page-header">
  <h1><%= title "Supplier details" %></h1>
  <%= link_to "Edit supplier", edit_admin_supplier_path(@supplier), class: "ml-auto btn btn-primary" if policy(@supplier).update? %>
  <%= button_to "Delete supplier", admin_supplier_path(@supplier), method: :delete, class: "ml-4 btn btn-danger", form: { data: { turbo_confirm: "Are you sure you want to delete this supplier?" } } if policy(@supplier).destroy? %>
</header>

<%= show_for @supplier do |s| %>
  <%= s.attribute :name %>
  <%= s.attribute :website do %>
    <%= link_to @supplier.website, @supplier.website, target: "_blank", rel: "noopener", class: "link" %>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-neutral-500" viewBox="0 0 20 20" fill="currentColor">
      <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
      <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
    </svg>
  <% end %>
  <%= s.attribute :products do %>
    <% if @supplier.products_count.zero? %>
      <span class="text-neutral-500 italic">No products associated with this supplier.</span>
    <% else %>
      <%= link_to pluralize(@supplier.products_count, "product"), admin_products_path(supplier_id: @supplier.id), class: "link" %>
    <% end %>
  <% end %>
  <%= s.attribute :created_at do %>
    <%= local_time(@supplier.created_at, format: :long) %>
  <% end %>
  <%= s.attribute :updated_at do %>
    <%= local_time(@supplier.updated_at, format: :long) %>
  <% end %>
  <%= s.attribute :history do %>
    <%= render "admin/activities/history", trackable: @supplier %>
  <% end %>
<% end %>
